# Основные команды: mov, movs, movz, cltq, push, pop, lea, inc, dec, neg, not, add, sub, imul, idiv, cqto, xor, or, and, sal, sar, shl, shr, cmp, test, setcc, jmp, jcc, cmovcc, call, ret

#### **1. Пересылка данных**


| Команда                              | Описание                                                                                                                                   | Пример       |
| ------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ |
| `mov`                                       | Копирует данные из источника в приёмник (регистр/память)                                            | `mov eax, ebx`     |
| `movs` (`movsb`, `movsw`, `movsd`, `movsq`) | Копирует байт/слово/двойное слово/учетверённое слово с учётом знака (из`esi` в `edi`) | `movsd`            |
| `movz` (`movzb`, `movzw`, `movzl`)          | Копирует с заполнением нулями (беззнаковое расширение)                                              | `movzwl %ax, %ebx` |
| `cltq`                                      | Знаковое расширение`eax` → `rax` (аналог `movslq %eax, %rax`)                                                             | `cltq`             |

---

#### **2. Работа со стеком**


| Команда | Описание                                                              | Пример |
| -------------- | ----------------------------------------------------------------------------- | ------------ |
| `push`         | Кладёт значение на стек (уменьшает`rsp`)         | `push rax`   |
| `pop`          | Снимает значение со стека (увеличивает`rsp`) | `pop rbx`    |

---

#### **3. Адресация и арифметика**


| Команда | Описание                                                                                                      | Пример           |
| -------------- | --------------------------------------------------------------------------------------------------------------------- | ---------------------- |
| `lea`          | Загружает эффективный адрес (арифметика без обращения к памяти) | `lea rax, [rbx+8*rcx]` |
| `inc`          | Увеличивает на 1                                                                                         | `inc eax`              |
| `dec`          | Уменьшает на 1                                                                                             | `dec ebx`              |
| `neg`          | Меняет знак (арифметическое отрицание)                                               | `neg rax`              |
| `not`          | Побитовое отрицание (инверсия)                                                              | `not edx`              |

---

#### **4. Арифметические операции**


| Команда | Описание                                                                                           | Пример    |
| -------------- | ---------------------------------------------------------------------------------------------------------- | --------------- |
| `add`          | Сложение                                                                                           | `add eax, ebx`  |
| `sub`          | Вычитание                                                                                         | `sub rsp, 16`   |
| `imul`         | Знаковое умножение (1 операнд:`rax = rax * src`; 2 операнда: `dst *= src`) | `imul rax, rbx` |
| `idiv`         | Знаковое деление (`rax / rdi`, результат в `rax`, остаток в `rdx`)        | `idiv rdi`      |
| `cqto`         | Знаковое расширение`rax` в `rdx:rax` (перед `idiv`)                                | `cqto`          |

---

#### **5. Битовые операции**


| Команда | Описание                                                                  | Пример   |
| -------------- | --------------------------------------------------------------------------------- | -------------- |
| `xor`          | Исключающее ИЛИ (также обнуление регистра)    | `xor eax, eax` |
| `or`           | Побитовое ИЛИ                                                         | `or edx, 0x1`  |
| `and`          | Побитовое И                                                             | `and al, 0xF0` |
| `sal`/`shl`    | Арифметический/логический сдвиг влево           | `sal cl, 2`    |
| `sar`          | Арифметический сдвиг вправо (с учётом знака) | `sar rax, 3`   |
| `shr`          | Логический сдвиг вправо (без учёта знака)       | `shr bl, 1`    |

---

#### **6. Сравнения и условные операции**


| Команда | Описание                                                                                                   | Пример   |
| -------------- | ------------------------------------------------------------------------------------------------------------------ | -------------- |
| `cmp`          | Сравнение (аналог`sub` без сохранения результата)                            | `cmp rax, rbx` |
| `test`         | Побитовое И (без сохранения, часто для проверки на 0)                     | `test al, al`  |
| `setcc`        | Устанавливает байт в 1, если условие`cc` истинно (например, `sete al`) | `setg cl`      |

---

#### **7. Переходы и вызовы**


| Команда | Описание                                                                                                    | Пример      |
| -------------- | ------------------------------------------------------------------------------------------------------------------- | ----------------- |
| `jmp`          | Безусловный переход                                                                               | `jmp label`       |
| `jcc`          | Условный переход (например,`je`, `jne`, `jg`, `jl`)                                          | `jne loop_start`  |
| `cmovcc`       | Условное перемещение (если условие`cc` истинно, копирует данные) | `cmovne eax, ebx` |
| `call`         | Вызов функции (кладёт адрес возврата на стек)                                  | `call printf`     |
| `ret`          | Возврат из функции (снимает адрес возврата со стека)                     | `ret`             |

### **Примеры использования**

#### **1. Условный переход (`if-else`)**

**asm**

```
    cmp eax, ebx
    jg  greater
    mov ecx, 0
    jmp end
greater:
    mov ecx, 1
end:
```

#### **2. Цикл (`for`)**

**asm**

```
    mov ecx, 10
loop_start:
    ; тело цикла
    dec ecx
    jnz loop_start
```

#### **3. Работа с битами**

**asm**

```
    and eax, 0x1  ; Проверка младшего бита
    jz   even
```

---

### **Вывод**

* **mov-семейство**: для перемещения данных (с расширением/без).
* **Стек**: `push`/`pop` для управления вызовами функций.
* **Арифметика**: `add`/`sub`/`imul`/`idiv` + подготовка (`cqto`).
* **Биты**: `and`/`or`/`xor` + сдвиги (`sal`/`shr`).
* **Условия**: `cmp`/`test` + `jcc`/`setcc`/`cmovcc`.
* **Вызовы**: `call`/`ret` для функций.
